# Урок №20
## Основные виды СЗИ

* [Лекция](20_SZI.pdf)
* [Домашняя работа](HW20.md)


## Mini-quize по новой теме:

<details>
  <summary>Как работает система обнаружения вторжений?</summary>
<br>
Система обнаружения вторжений (IDS) анализирует сетевой трафик или события на уровне хоста для выявления потенциальных угроз и аномалий.

Основные методы работы:
- **Сигнатурный анализ:** IDS сравнивает сетевой трафик с базой известных шаблонов атак (сигнатур). Если обнаружено совпадение, система фиксирует событие.
  - Пример: обнаружение SQL-инъекции по характерным фразам, таким как `OR 1=1;`.
- **Поведенческий анализ:** IDS отслеживает аномальное поведение, например, резкие скачки трафика или подозрительную активность, отклоняющуюся от нормальной.
  - Пример: внезапный всплеск запросов к одному ресурсу с одного IP.
- **Мониторинг целостности файлов:** Некоторые IDS отслеживают изменения в критически важных файлах системы.
  - Пример: уведомление о несанкционированной модификации конфигурационных файлов.

IDS может работать в режиме:
- **Обнаружения (passive):** Система оповещает администратора о найденных угрозах.
- **Превентивного вмешательства (active):** IDS передаёт данные IPS для блокировки угроз.

---

</details>

<details>
  <summary>Может ли помочь провайдер с защитой от DDOS?</summary>
<br>
Да, провайдер может помочь с защитой от DDoS-атак, используя следующие меры:
- **Фильтрация трафика:** Провайдеры устанавливают специальные системы фильтрации (например, Arbor Networks), которые отсеивают вредоносный трафик до его поступления на сервер клиента.
  - Пример: блокировка трафика, идущего из географических регионов, не связанных с деятельностью клиента.
- **Blackhole routing:** Вредоносный трафик перенаправляется в "чёрную дыру", чтобы минимизировать нагрузку на инфраструктуру.
  - Пример: при атаке на определённый IP адрес весь его трафик временно перенаправляется и сбрасывается.
- **CDN-сервисы:** Некоторые провайдеры используют распределённые сети доставки контента, которые поглощают DDoS-атаки, рассеивая трафик по узлам.
  - Пример: Cloudflare автоматически фильтрует подозрительный трафик на своих серверах.

Важно: Защита провайдера эффективна против сетевых атак (L3-L4), но не всегда справляется с атаками на уровне приложений (L7).

---

</details>

<details>
  <summary>К какой категории средств ИБ относится программа Suricata?</summary>
<br>
Suricata относится к средствам **обнаружения и предотвращения вторжений (IDS/IPS)**. Она предназначена для анализа сетевого трафика и выявления угроз.

Основные возможности:
- **IDS:** Анализирует сетевой трафик в режиме "только для чтения", уведомляя о подозрительных действиях.
  - Пример: обнаружение попытки сканирования портов, исходящей от одного IP-адреса.
- **IPS:** Работает в режиме "inline", позволяя блокировать вредоносный трафик в реальном времени.
  - Пример: автоматическое блокирование попытки доступа к запрещённому ресурсу.
- **Мониторинг трафика:** Позволяет собирать и анализировать метаданные, включая DNS-запросы, HTTP-заголовки и т.д.
  - Пример: запись всех запросов к доменам для последующего анализа.

Suricata часто используется как часть комплексной системы ИБ для обеспечения сетевой безопасности.

---

</details>

<details>
  <summary>Что такое Windows Defender?</summary>
<br>
Windows Defender — это встроенное средство безопасности в операционной системе Windows, известное также как **Windows Security**. Оно обеспечивает базовую защиту от вредоносного ПО, включая вирусы, шпионские программы и руткиты.

Основные функции:
- **Антивирусная защита:** Проверяет файлы и программы на наличие вредоносного кода.
  - Пример: уведомление о блокировке загруженного файла, содержащего вредоносный код.
- **Брандмауэр:** Устанавливает правила фильтрации сетевого трафика.
  - Пример: автоматическое блокирование доступа к подозрительному IP-адресу.
- **Контроль приложений и браузера:** Защищает от фишинговых и вредоносных сайтов.
  - Пример: предупреждение при попытке открыть подозрительный веб-сайт.
- **Защита от эксплойтов:** Уменьшает риск эксплуатации уязвимостей в системе.
  - Пример: предотвращение выполнения вредоносного кода в памяти.

Windows Defender постоянно обновляется и является бесплатным решением для пользователей Windows.

---

</details>

<details>
  <summary>В какое место сетевой схемы устанавливают IDS?</summary>
<br>
IDS устанавливается в местах, где она может эффективно мониторить сетевой трафик.

Основные варианты размещения:
- **Перед фаерволом:** Для анализа входящего трафика до его фильтрации.
  - Пример: выявление сетевого сканирования или DDoS-атаки до прохождения их через фаервол.
- **После фаервола:** Для выявления атак, которые прошли через основные фильтры.
  - Пример: обнаружение вредоносных запросов, не отфильтрованных фаерволом.
- **На ключевых сегментах сети:** Например, между внутренними и внешними сетями, чтобы отслеживать движение данных в обе стороны.
  - Пример: мониторинг обмена данными между корпоративной сетью и интернетом.
- **На уровне серверов:** Для анализа активности, направленной на критические серверы и приложения.
  - Пример: обнаружение подозрительных операций на сервере базы данных.

Выбор места установки зависит от архитектуры сети и задач безопасности.

---

</details>

---

## План занятия:

<details>
  <summary>Защита почтовых серверов, антиспам системы</summary>
<br>
  
- Настройка антиспам-фильтров (например, SpamAssassin, Rspamd).
- Использование DKIM, SPF и DMARC для проверки подлинности отправителей.
- Мониторинг входящей почты на наличие вредоносных вложений.

_Пример_: блокировка подозрительных вложений, содержащих исполняемые файлы.

---

</details>

<details>
  <summary>Anti DDoS, защита от брутфорсов</summary>
<br>
  
- Настройка Rate Limiting для ограничения числа запросов с одного IP.
- Использование Fail2Ban для временной блокировки IP-адресов после нескольких неудачных попыток входа.

_Пример_: автоматическая блокировка IP-адреса после 5 неудачных попыток входа через SSH.

---

</details>

<details>
  <summary>IDS, IPS</summary>
<br>
  
- Внедрение IDS для мониторинга трафика и оповещения о подозрительных действиях.
- Настройка IPS для активной блокировки угроз.

_Пример_: использование Suricata для блокировки подозрительных HTTP-запросов.

---

</details>

<details>
  <summary>Использование Windows Defender (Windows Security)</summary>
<br>
  
- Настройка антивирусных сканирований по расписанию.
- Использование контролируемого доступа к папкам для защиты данных от шифровальщиков.

_Пример_: добавление папки с важными данными в "Ransomware Protection" для предотвращения несанкционированного доступа.

---

</details>
